<div class="step_div">
    <ul class="clearfix step_1">
        <li class="li_1"><em class="stepOne"></em>精确报价</li>
        <li class="li_2"><em>2.</em>提交订单</li>
        <li class="li_3"><em>3.</em>支付</li>
    </ul>
</div>
<div class="offer">
    <div class="official">
        <p class="mes"><i></i>隐私保护声明：您提供的个人信息仅供本次报价使用，不会泄露给任何第三方作其他用途
            <a href="http://www.epicc.com.cn/fuwu/changjianwenti/qita/201412/t20141218_12882.html" target="_blank" class="fs12">隐私保护协议</a>
        </p>
        <div class="carBg">
            <div class="region">
                <div class="region-top">
                    <span ng-bind="calCommData.licenseNo"></span>
                    <button class="btnMOD" ng-click="btnMOD()">修改</button>
                </div>
                <span ng-bind="calCommData.brandName" ng-mouseover="enterShow()" ng-mouseleave="leaveHide()"  style="color: #6cacf2;line-height: 24px"></span>
                <car-detail></car-detail>
                <p ng-show="calCommData.claimantFlag  == 1">去年出险 <span style="color: #6cacf2" ng-bind="calCommData.claimant"></span>
                    次</p>
            </div>
            <div class="carNews">
                <ul>
                    <li ng-repeat="d in carDescList ">
                        <i class="newImg" ng-show="d.state == 1"></i>
                        <span class="redms" ng-bind="'['+d.activitytitleCar+']'"></span>
                        <span class="fs12" ng-bind="d.activitydetailsCar"></span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="offer-main">
    <div class="official">
        <!-- calReqDto.isRenewal    1 续保页面    2 正常投保页面-->
        <div class="carsMes">
            <!--商业险头部-->
            <div class="margin-b20 clxx posRelative newAddCxll">
                <div class="clxx-top newClxx">
                    <i class="yuan bussniss"></i>
                    <span class="fl" ng-bind="calReqDto.isRenewal==1?'商业险续保方案':'商业险'"></span>
                </div>
                <p class="fl">商业险生效日期：{{calReqDto.startDateBI}}{{calCommData.startHourBI}}时起至
                    {{calCommData.endDateBI}}{{calCommData.endHourBI}}时止</p>
                <span class="modify" style="margin:16px 0 0 6px;">修改</span>
                <span class="modify" style="margin:16px 0 0 6px;" ng-click="cancleChange()">取消调整</span>
                <div class="strBUY actStr" ng-bind="car.statusSy"
                     ng-class="{true:'actStr',false:'grayStr'}[calReqDto.biselect == 1]" ng-click="busStatus()"></div>
            </div>
            <div class="clearfix prePlan">
                <!--新保-方案切换头部-->
                <div class="clearfix"  ng-if="calReqDto.isRenewal==2">
                    <div style="width:225px;height:60px;float: left;"></div>
                    <ul class="planTopUl typeTopUl">
                        <li class="typeOne" ng-class="{'chooseActive':riskState == 'case1',type12width:riskState == 'case3'}"
                            ng-click="changeCase('case1')">
                            <h4>车友推荐方案</h4>
                            <p>¥<span ng-bind="riskDataBI.eco_sum"></span></p>
                        </li>
                        <li class="typeTwo" ng-class="{chooseActive: riskState == 'case2',type12width:riskState == 'case3'}"
                            ng-click="changeCase('case2')">
                            <h4>全面型保障方案</h4>
                            <p>¥<span ng-bind="riskDataBI.com_sum"></span></p>
                        </li>
                        <li class="typeThree" ng-class="{chooseActive: riskState == 'case3',type3width: riskState == 'case3'}"
                            ng-click="changeCase('case3')">
                            <h4>自由选择</h4>
                            <p ng-show="riskState =='case1'||riskState =='case2'">您可以自由选择</p>
                            <p ng-show="riskState =='case3'">¥<span ng-bind="riskDataBI.opt_sum"></span></p>
                        </li>
                    </ul>
                </div>
                <div class="clearfix planBottom">
                    <ul class="boxBI_ul">
                        <li class="clearfix firstRowLi">
                            <div class="BItype12" ng-show="riskState =='case1'||riskState =='case2'">
                                <span class="titName1">
                                    <b>投保险种</b>
                                </span>
                                <div ng-class="{borderActive: riskState == 'case1'}">
                                     <span class="titName2 tr">
                                        <div><b>保险金额(元)</b></div>
                                    </span>
                                    <span class="titName3">
                                        <div class="linheight16"><b>保费(元)</b><br>含不计免赔</div>
                                    </span>
                                </div>
                                <div ng-class="{borderActive: riskState == 'case2'}">
                                    <span class="titName2 tr">
                                        <div><b>保险金额(元)</b></div>
                                    </span>
                                    <span class="titName3">
                                        <div class="linheight16"><b>保费(元)</b><br>含不计免赔</div>
                                    </span>
                                </div>
                                <span class="titName4">
                                    <div><b></b></div>
                                </span>
                            </div>
                            <div class="BItype3" ng-class="{borderActive:calReqDto.isRenewal==2}" ng-show="riskState =='case3'">
                                <span class="titName1">
                                    <b>投保险种</b>
                                </span>
                                <div >
                                    <span class="type3_tit1">
                                        <div class="borderTop"><b>保险金额(元)</b></div>
                                     </span>
                                    <span class="type3_tit2">
                                        <div class="borderTop pr"><b>不计免赔(元)</b>
                                            <i class="question pos_I" ng-mouseover="accLuggShow('bjmpl')" ng-mouseleave="accLuggHide('bjmpl')"></i>
                                            <div class="inshreDetail" ng-show="bjmpl" style="width:300px;left:-38px;top:34px;">
                                                <h4><i class="litImgs"></i>不计免赔率特约条款保什么？</h4>
                                                <p>经特别约定，保险事故发生后，按照对应投保的险种规定的免赔率计算的、应当由被保险人自行承担的免赔金额部分，保险公司负责赔偿。</p>
                                                <h4><i class="litImgs"></i>为什么需要？</h4>
                                                <p>该险种价格便宜，投保后能获得更全面的保障，更大程度的为您规避风险，非常值得购买。</p>
                                            </div>
                                        </div>
                                     </span>
                                    <span class="type3_tit3">
                                        <div class="borderTop"><b>保费(元)</b></div>
                                    </span>
                                </div>
                            </div>
                        </li>
                        <!--hideFilter ：根据risk.hideFlag 将对象过滤去除-->
                        <!--sortFilter ：新保根据codesConstant.riskList 将list排序 | 续保多了一步 将list按照投保靠前规则排序-->
                        <!--<li ng-repeat="risk in riskList | hideFilter | sortFilter :calReqDto.isRenewal track by risk.kindCode" ng-class="{'evenLi':$index%2==0,'oddLi':$index%2!=0,'item-last':$last&&calReqDto.isRenewal==2}">-->
                        <li ng-repeat="risk in riskList | hideFilter track by risk.kindCode" ng-class="{'evenLi':$index%2==0,'oddLi':$index%2!=0,'item-last':$last&&calReqDto.isRenewal==2}">
                            <div class="BItype12" ng-show="riskState =='case1'||riskState =='case2'">
                                <span class="titName1">
                                    <div class="pl38" ng-class="risk.kindCode=='050451' ? 'specialFont' : '' " ng-bind="risk.kindName"></div>
                                    <i class="question detail" ng-mouseover="detailExplan($event, risk)"
                                       ng-mouseleave="detailHide($event)"></i>
                                </span>
                                <div ng-class="{borderActive: riskState == 'case1'}">
                                    <span class="titName2 tr"><div ng-bind="risk.eco.amount |amoutFilter :risk.kindCode:initData.seatCount| isProposalFilter">--</div></span>
                                    <span class="titName3"><div ng-bind="risk.eco.premium | number:2 | isProposalFilter ">--</div></span>
                                </div>
                                <div ng-class="{borderActive: riskState == 'case2'}">
                                    <span class="titName2 tr"><div ng-bind="risk.com.amount |amoutFilter :risk.kindCode:initData.seatCount | isProposalFilter"></div></span>
                                    <span class="titName3"><div ng-bind="risk.com.premium  | number:2 | isProposalFilter "></div></span>
                                </div>
                                <span class="titName4"><div>--</div></span>
                            </div>
                            <div class="BItype3" ng-class="{borderActive:calReqDto.isRenewal==2}"  ng-show="riskState == 'case3'">
                                <span class="titName1">
                                    <div class="pl38"  ng-class="risk.kindCode==='050451'?'specialFont':''"  ng-bind="risk.kindName"></div>
                                    <i class="question detail" ng-mouseover="detailExplan($event, risk)"
                                       ng-mouseleave="detailHide($event)"></i>
                                </span>
                                <span class="type3_tit1">
                                    <div>
                                        <div class="entire" ng-show="risk.kindCode=='051027'||risk.kindCode=='050200'">
                                            <spe-swith  ng-model="risk.amount"
                                                         ng-change="obj.switchRisk(risk)"
                                                         ng-blur="obj.card(risk)"
                                                        amount050200="{{riskDataBI.amount050200}}"
                                                        amount050200-max="{{riskDataBI.amount050200Max}}"
                                                        amount050200-min="{{riskDataBI.amount050200Min}}"
                                            ></spe-swith>
                                            <!--<input type="text" ng-if="risk.amount!=-1" ng-model="risk.amount" ng-focus="jdFocus(risk)" ng-blur="obj.card(risk)">-->
                                        </div>
                                        <div  ng-show="risk.kindCode!='051027'&&risk.kindCode!='050200'" style="line-height: 0;">
                                            <drop-down class="littleImg wid116 wid160" ng-model="risk.amount" ng-value="risk.amounttype"
                                                       ng-disabled="risk.disabledFlag" on-select="obj.card(risk)" code="amounttype" name="amountvalue" data="risk.amountlists">
                                            </drop-down>
                                        </div>
                                    </div>
                                </span>
                                <span class="type3_tit2">
                                    <div ng-hide="risk.kindCode=='051027'||risk.kindCode=='050231'||risk.kindCode=='050451'||risk.kindCode=='050252'||risk.kindCode=='051047'||risk.kindCode=='051029'">
                                        <radio-check  ng-disabled="risk.amount==-1"  ng-model="risk.iopStatus" ng-change="obj.card(risk)"> </radio-check>
                                        <span ng-bind="risk.iopPremium | number:2 | isProposalFilter "></span>
                                    </div>
                                </span>
                                <span class="type3_tit3">
                                    <div>
                                        <p ng-bind="risk.premium | number:2 | isProposalFilter "></p>
                                    </div>
                                </span>
                            </div>
                        </li>
                    </ul>
                    <ul class="boxBI_btm" ng-if="calReqDto.isRenewal==2">
                        <li>
                            <span class="titName1"></span>
                            <div class="BItype12">
                                <span class="box_adj">
                                    <div ng-show="riskState =='case1'">
                                        <p class="adjustBtn" ng-click="caseAdjust('EconomyPackage')">方案调整</p>
                                    </div>
                                </span>
                                <span class="box_adj">
                                    <div ng-show="riskState =='case2'">
                                        <p class="adjustBtn" ng-click="caseAdjust('ComprehensivePackage')">方案调整</p>
                                    </div>
                                </span>
                            </div>
                        </li>
                    </ul>
                    <div class="clearfix isRenewalBottom" ng-if="calReqDto.isRenewal==1">
                        <div class="isLeft fl">
                            <span>比上年减少￥979.36</span>
                            <span class="compare" ng-click="lastYearCom()">对比去年</span>
                        </div>
                        <div class="isRight fr">
                            本年商业险保费 <span class="fs18">￥</span><b class="fs18" ng-bind="riskDataBI.opt_sum"></b>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--交强险-->
        <div class="carsMes">
            <div class="clxx new-clxx posRelative newAddCxll">
                <div class="clxx-top newClxx">
                    <i class="yuan carStrong"></i>
                    <span>交强险与车船税</span>
                </div>
                <div class="strBUY actStr" ng-bind="car.status"
                     ng-class="{true:'actStr',false:'grayStr'}[calReqDto.ciselect == 1]" ng-click="tabTax()"></div>
            </div>
            <div class="clearfix clxx-input carStr" ng-if="calReqDto.ciselect == 1">
                <div class="clearfix carStrongLeft">
                    <label class="fl jqx">交强险保费</label>
                    <span class="fl ff505018 w100">¥{{(car.CIPremium)|number:2}}</span>
                    <label class="fl firL">交强险生效日期</label>
                    <input class="fl date labelName" id="flightData" jedate=""
                           min-date={{calCommData.startDateCIMin}} max-date={{calCommData.startDateCIMax}}
                           format="YYYY/MM/DD" id="name" type="text" placeholder="请选择生效日期"
                           ng-model="calReqDto.startDateCI" ng-change="changeDate()" readonly>
                    <div style="float: left;height: 34px;line-height: 34px;">
                        <span class="mlr10" ng-bind="calReqDto.startHourCI"></span>时起 至 <span
                            ng-bind="calReqDto.endDateCI"></span>日 <span ng-bind="calReqDto.endHourCI"></span>
                        时止
                    </div>
                </div>
                <div class="clearfix carStrongRight">
                    <p class="fl"><label class="jqx">代缴车船税</label><span class="ff505018 w100">¥{{car.tax_premium|number:2}}</span><span
                            class="ff1"
                            ng-mouseover="showTaxDeta()" ng-mouseleave="hideTaxDeta()">明细</span></p>
                    <div class="taxDetail" ng-if="taxDeta">
                        <ul class="taxUl">
                            <li>
                                <span class="tit">本年应缴税额：</span>
                                <span class="taxMoney" ng-bind="calculateCiData.carShipTaxMessage.thisPayTax | number:2"></span>
                                <span class="dateRange"ng-bind="calculateCiData.carShipTaxMessage.payStartDate + '-'+ calculateCiData.carShipTaxMessage.payEndDate"></span>
                            </li>
                            <li>
                                <span class="tit">上年应补缴税额：</span>
                                <span class="taxMoney" ng-bind="calculateCiData.carShipTaxMessage.prePayTax | number:2"></span>
                            </li>
                            <li>
                                <span class="tit">滞纳金：</span>
                                <span class="taxMoney"  ng-bind="calculateCiData.carShipTaxMessage.delayPayTax | number:2"></span>
                            </li>
                            <li>
                                <span class="tit">车船税保费总计：</span>
                                <span class="taxMoney"ng-bind="car.tax_premium | number:2"></span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="vip">
            <div class="clearfix">
                <h2 class="vipMeal">专享套餐</h2><i class="vipImg"></i>
            </div>
            <ul class="clearfix vipUl">
                <li class="clearfix mr curBorder" ng-show="calCommData.isOpenEAD==1">
                    <div class="buy" ng-bind="vipstatus" ng-class="{true:'curBuy',false:''}[calReqDto.eADFlag != 0]"
                         ng-click="accidentInsure()">投保
                    </div>
                    <div class="vipInsure">
                        <div class="clearfix vipH3"><h3 class="fl">车上人员补充意外险</h3>
                            <i class="fl question ques1" ng-mouseover="accLuggShow('accidentDet')"
                               ng-mouseleave="accLuggHide('accidentDet')"></i>
                        </div>
                        <p class="describe">小投入大保障，每天不到3毛钱！</p>
                        <p>被保险人：{{insuredEADNames}}</p>
                        <p>投保份数：{{eadNumS}}份<span class="ff1" ng-click="accidentMod()">修改</span></p>
                        <p class="mt10">套餐价：<span class="ff505018">¥{{calReqDto.eadSum}}.00</span></p>
                        <p class="margin-b10">原&nbsp;&nbsp;&nbsp;价： <span class="undeline">¥110.00</span></p>
                        <p class="accident" ng-if="accidentDet">可单独为车险被保险人或者车险被保险人及其他人购买，每人最多投保30份。提供24小时全球保障，无论是否乘车，只要发生意外事故，均属保险责任。</p>
                    </div>
                    <div class="showImg">
                        <img src="images/vipIcon1.jpg" alt="">
                    </div>
                </li>
                <li class="clearfix" ng-show="calCommData.isOpenYEL == 1">
                    <div class="buy" ng-bind="vipLugg" ng-class="{true:'curBuy',false:''}[calReqDto.yelFlag != 0 ]"
                         ng-click="bagInsure()"></div>
                    <div class="vipInsure">
                        <div class="clearfix vipH3"><h3 class="fl">随车行李保险</h3>
                            <i class="fl question ques1" ng-mouseover="accLuggShow('luggageDet')"
                               ng-mouseleave="accLuggHide('luggageDet')"></i>
                        </div>
                        <p class="describe">车内行李（车厢内部及后备箱）手机、电脑等全面保障，含汽车玻璃贴膜</p>
                        <p>被保险人：{{calCommData.insuredEADName}}</p>
                        <p>投保份数：{{yelNum}}份<span class="ff1" ng-click="showLugg()">修改</span></p>
                        <p class="mt10">套餐价：<span class="ff505018">¥{{calReqDto.sumYELp }}.00</span></p>
                        <p class="margin-b10">原&nbsp;&nbsp;&nbsp;价：<span class="undeline">¥110.00</span></p>
                        <p class="accident" ng-if="luggageDet">封闭的车厢内部及后备箱存放的行李物品，遭受盗窃、抢劫等意外事故和自然灾害所造成的损失承担赔偿责任。</p>
                    </div>
                    <div class="showImg">
                        <img src="images/vipIcon2.jpg" alt="">
                    </div>
                </li>
            </ul>
        </div>
        <div class="submit" style="margin-bottom: 0">
            <a href="javascript:" class="saveMes" ng-click="backone()">上一步</a>
            <a href="javascript:" class="saveMes" ng-click="SendPrice()">发送报价</a>
            <a href="javascript:" class="saveMes" ng-click="saveCalculateMsg()">保存信息</a>
        </div>
    </div>
    <div style="position:relative;z-index:10;width:100%;height:75px;background-color: #fff">
        <div class="product-nav">
            <div class="official">
                <div class="totalPrice">
                    <div style="overflow: hidden">
                        <ul class="fl left">
                            <li>
                                <p>￥<span class="num">{{(car.syxSum)| number:2}}</span> <b>+ </b></p>
                                <span>商业险</span>
                            </li>
                            <li>
                                <p>￥<span class="num">{{(car.Twosum) | number:2}}</span> <b>+ </b></p>
                                <span>交强险与车船税</span>
                            </li>
                            <li>
                                <p>￥<span class="num">{{vipSum| number:2}}</span>
                                    <b>- </b></p>
                                <span>专享套餐</span>
                            </li>
                            <li>
                                <p>￥<span class="num">0.00</span> <b>=</b></p>
                                <span>积分抵扣</span>
                            </li>
                            <li class="lastLi">
                                <p class="font18">￥<span class="num red">{{(car.syxSum+car.Twosum+vipSum) | number:2}}</span>
                                </p>
                                <span>合计应付</span>
                            </li>
                        </ul>
                        <div class="fl right">
                            <div class="nextStep" ng-click="nextStep()">下一步</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--超时弹层-->
<overtime-page></overtime-page>
<!--侧边浮动条-->
<slide-box></slide-box>
<!--行李险弹层-->
<div ng-show="luggLayer" data-ng-include="'components/calculate/mode/luggLayer.html'"></div>
<!--意外险弹层-->
<div ng-show="accidentLayer" data-ng-include="'components/calculate/mode/accidentLayer.html'"></div>
<!--发送报价的弹层-->
<div ng-show="SendPriceLayer" data-ng-include="'components/calculate/mode/calculSendPrice.html'"></div>
<!--loading-->
<div ng-show="loading" data-ng-include="'components/calculate/mode/loading.html'"></div>
<!--验证码-->
<div ng-show="layer_testCode" data-ng-include="'components/mode/testCode.html'"></div>
<!--去年方案对比-->
<div ng-show="layer_case" data-ng-include="'components/calculate/mode/caseCompare.html'"></div>
<!--出险次数弹层-->
<div ng-show="risksNums" data-ng-include="'components/calculate/mode/risksNums.html'"></div>
<!--司机乘客现在-->
<div ng-show="risks" data-ng-include="'components/calculate/mode/risks.html'"></div>